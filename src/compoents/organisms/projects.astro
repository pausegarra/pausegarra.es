---
import Project from "../molecules/Project.astro";
import { getCollection } from "astro:content";
import Title from "../atoms/Title.astro";

const projects = await getCollection("projects")
const filteredProjects = projects.filter((project) => project.data.featured === true);
---

<section class="py-20 px-4 bg-gray-800">
  <div class="text-center mb-16">
    <Title transitionName="projects-title" as="h2" title="Featured Projects" class="font-bold mb-2 bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-transparent" />
    <div transition:name="projects-divider" class="w-24 h-1 bg-gradient-to-r from-green-600 to-blue-600 mx-auto"></div>
  </div>
  <div class="max-w-6xl mx-auto flex flex-col gap-6 items-center justify-center">
    <div class="grid md:grid-cols-2 gap-8">
      {filteredProjects.map((project, index) => (
        <Project project={project.data} slug={project.slug} />
      ))}
    </div>

    <a href="/projects/" class="px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 shadow-lg">
      View All Projects
    </a>
  </div>
</section>